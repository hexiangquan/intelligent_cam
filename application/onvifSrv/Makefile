# SlickEdit generated file.  Do not edit this file except in designated areas.

# Make command to use for dependencies
-include ../Rules.make
MAKE=make
RM=rm
MKDIR=mkdir
CP=cp
PRECC=$(CSTOOL_PREFIX)
#PRECC=arm_v5t_le-
STRIP=$(PRECC)strip
CC=$(PRECC)gcc
OUTDIR=Release
OUTFILE=$(OUTDIR)/onvif
INSTALLDIR=$(TARGET_EXEC_DIR)
CFG_INC=-I.
CFG_INC += -I$(SDK_INC_DIR) -I$(APP_INC_DIR)
CFG_LIB=
CFG_OBJ=
LD_FLAGS := -L$(SDK_LIB_DIR) -L$(APP_LIB_DIR)
LD_LIBS := -lpthread -lm -lcamctrl -llog -lmsg

COMMON_OBJ=	$(OUTDIR)/sha1.o $(OUTDIR)/duration.o $(OUTDIR)/onvifserver.o  $(OUTDIR)/soapC.o \
	$(OUTDIR)/soapServer.o $(OUTDIR)/stdsoap2.o $(OUTDIR)/threads.o \
	$(OUTDIR)/wsaapi.o $(OUTDIR)/wsddapi.o
OBJ=$(COMMON_OBJ) $(CFG_OBJ)
ALL_OBJ=$(OUTDIR)/sha1.o $(OUTDIR)/duration.o $(OUTDIR)/onvifserver.o $(OUTDIR)/soapC.o \
	$(OUTDIR)/soapServer.o $(OUTDIR)/stdsoap2.o $(OUTDIR)/threads.o \
	$(OUTDIR)/wsaapi.o $(OUTDIR)/wsddapi.o 

COMPILE=$(CC) -c -o "$(OUTDIR)/$(*F).o" $(CFG_INC) $<
LINK=$(CC) $(LD_FLAGS) -o "$(OUTFILE)" $(ALL_OBJ) $(LD_LIBS)

# Pattern rules
$(OUTDIR)/%.o : %.c
	$(COMPILE)

# Build rules
all: $(OUTFILE) install

$(OUTFILE): $(OUTDIR)  $(OBJ)
	$(LINK)
	$(STRIP) "$(OUTFILE)"
$(OUTDIR):
	$(MKDIR) -p "$(OUTDIR)"

# Rebuild this project
rebuild: cleanall all

# Clean this project
clean:
	$(RM) -f $(OUTFILE)
	$(RM) -f $(OBJ)

# Clean this project and all dependencies
cleanall: clean

install:
	$(CP) -f $(OUTFILE) $(INSTALLDIR)

